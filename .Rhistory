#display ground trap data as solid shapes - pitfall=circle, ramp trap=square, jar=triangle, flying trap as triangle outline
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="jar"), pch=17, col="#009E73")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="sticky"), pch=25, col="#CC79A7")
#add legend
#legend(1.5,1.5, title=NULL, pch=c(19,17,15,25), col=c("#E69F00","#009E73","#F0E442","#CC79A7"), cex=.7, legend=c("Pitfall", "Jar ramp", "Yellow ramp", "Yellow sticky card"))
#add taxa as text
ordilabel(NMDS_beetle, display="species", select =which (include==TRUE & crawling == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS_beetle, display="species", select =which (include==TRUE & flying == TRUE), cex=0.6, col="white", fill="black")
pitfall_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/2020%20beetles_pitfall.csv",na.strings = NULL)
ramp_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/2020%20beetles_yellowramp.csv",na.strings = NULL)
jar_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/2020%20beetles_jarramp.csv",na.strings = NULL)
sticky_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/2020%20beetles_stickycard.csv",na.strings = NULL)
taxa_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/beetle%20taxa.csv")
#add trap type as a column on each data file
pitfall_beetle$Trap="pitfall"
ramp_beetle$Trap="ramp"
jar_beetle$Trap="jar"
sticky_beetle$Trap="sticky"
#combine beetle data tables
library (plyr)
pitfallramp_beetle <- rbind.fill (pitfall_beetle, ramp_beetle)
pitfallrampjar_beetle <-rbind.fill (pitfallramp_beetle, jar_beetle)
beetle <- rbind.fill (pitfallrampjar_beetle, sticky_beetle)
#############
#NMDS of beetle community between trap types
library (vegan)
#Create matrix of environmental variables
env.matrix_beetle<-beetle[c(1:3,19)]
#create matrix of community variables
com.matrix_beetle<-beetle[c(4:18)]
#ordination by NMDS
NMDS_beetle<-metaMDS(com.matrix_beetle, distance="bray", k=2, autotransform=FALSE, trymax=100)
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis(com.matrix_beetle ~ Trap, data = env.matrix_beetle, permutations = 999, method="bray")
fit
pitfall_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_pitfall_order.csv",na.strings = NULL)
ramp_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_yellowramp_order.csv",na.strings = NULL)
jar_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_jarramp_order.csv",na.strings = NULL)
sticky_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_stickycard_order.csv",na.strings = NULL)
taxa_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Order%20taxa.csv")
#add trap type as a column on each data file
pitfall_order$Trap="pitfall"
ramp_order$Trap="ramp"
jar_order$Trap="jar"
sticky_order$Trap="sticky"
#combine order data tables
library (plyr)
pitfallramp_order <- rbind.fill (pitfall_order, ramp_order)
pitfallrampjar_order <-rbind.fill (pitfallramp_order, jar_order)
insects_order <- rbind.fill (pitfallrampjar_order, sticky_order)
#############
#NMDS of insect community by order between trap types
library (vegan)
#Create matrix of environmental variables
env.matrix_order<-insects_order[c(1:3,16)]
#create matrix of community variables
com.matrix_order<-insects_order[c(4:15)]
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS_order)
#stress=0.14
pitfall <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_pitfall_functional.csv",na.strings = NULL)
ramp <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_yellowramp_functional.csv",na.strings = NULL)
jar <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_jarramp_functional.csv",na.strings = NULL)
sticky <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_stickycard_functional.csv",na.strings = NULL)
taxa <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Functional%20taxa.csv")
#add trap type as a column on each data file
pitfall$Trap="pitfall"
ramp$Trap="ramp"
jar$Trap="jar"
sticky$Trap="sticky"
#combine data tables
library (plyr)
pitfallramp <- rbind.fill (pitfall, ramp)
pitfallrampjar <-rbind.fill (pitfallramp, jar)
insects <- rbind.fill (pitfallrampjar, sticky)
#############
#NMDS of insect community by functional classification between trap types
library (vegan)
#Create matrix of environmental variables
env.matrix<-insects[c(1:3,43)]
#create matrix of community variables
com.matrix<-insects[c(4:42)]
#ordination by NMDS
NMDS<-metaMDS(com.matrix, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS)
#stress=0.15
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS_order)
#what taxa to display using "taxa"
flying<-as.vector(t(taxa_order[1,]))
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS_order)
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
#ordination by NMDS
NMDS<-metaMDS(com.matrix, distance="bray", k=2, autotransform=FALSE, trymax=100)
#ordination by NMDS
NMDS<-metaMDS(com.matrix, distance="bray", k=2, autotransform=FALSE, trymax=100)
#ordination by NMDS
NMDS_beetle<-metaMDS(com.matrix_beetle, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS_beetle)
#ordination by NMDS
NMDS_beetle<-metaMDS(com.matrix_beetle, distance="bray", k=2, autotransform=FALSE, trymax=100)
#ordination by NMDS
NMDS_beetle<-metaMDS(com.matrix_beetle, distance="bray", k=2, autotransform=FALSE, trymax=100)
#Supplementary figure 1 - trap size vs mean catch
#bring in data
size <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Supp%20fig%201%20data.csv",na.strings = NULL)
library(ggplot2)
View(size)
# Basic scatter plot
ggplot(size, aes(x=Surface.area, y=Mean.catch)) + geom_point()
# Change the point size, and shape
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2, shape=23)
# Change the point size, and shape
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2, shape=23)+
geom_text(label=rownames(size))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2)
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2)+
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95)
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2)+
geom_errorbar(aes(ymin=len-sd, ymax=len+sd), width=.2,
position=position_dodge(.9))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2)+
geom_errorbar(aes(ymin=Mean.catch-sd, ymax=Mean.catch+sd), width=.2,
position=position_dodge(.9))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
geom_point(size=2)+
geom_errorbar(aes(ymin=Mean.catch-sd, ymax=Mean.catch+sd), width=.2,
position=position_dodge(.9))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)+
geom_errorbar(aes(ymin=Mean.catch-sd, ymax=Mean.catch+sd), width=.2,
position=position_dodge(.9))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2,
position=position_dodge(.9))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2, shape=23)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_fill_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(size=2, shape=23)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch)) +
theme_classic() +
geom_point(aes(colour=group), size=2, shape=23)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, colour="Trap")) +
theme_classic() +
geom_point(size=2, shape=23)+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, colour="Trap")) +
theme_classic() +
geom_point(size=2, shape=23)+
labs(x = "Trap surface area (cm^2)")+
labs(y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, colour="Trap")) +
theme_classic() +
geom_point(size=2, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=2, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=5, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))+
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95)
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=23)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=24)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=21)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#F0E442","#CC79A7", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#CC79A7", "#F0E442","#E69F00", "#009E73"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#E69F00","#CC79A7","#009E73", "#F0E442"))
ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.2)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=.5)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=1)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=2)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD), width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=3, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1.5, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=3, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropods catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropod catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
#Supplementary figure 1 - trap size vs mean catch
#bring in data
size <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Supp%20fig%201%20data.csv",na.strings = NULL)
library(ggplot2)
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Mean arthropod catch")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Arthropoda captured")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Arthropoda captured")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
pitfall_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_pitfall_order.csv",na.strings = NULL)
ramp_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_yellowramp_order.csv",na.strings = NULL)
jar_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_jarramp_order.csv",na.strings = NULL)
sticky_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Insect%20ID%202020_stickycard_order.csv",na.strings = NULL)
taxa_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Order%20taxa.csv")
#add trap type as a column on each data file
pitfall_order$Trap="pitfall"
ramp_order$Trap="ramp"
jar_order$Trap="jar"
sticky_order$Trap="sticky"
#combine order data tables
library (plyr)
pitfallramp_order <- rbind.fill (pitfall_order, ramp_order)
pitfallrampjar_order <-rbind.fill (pitfallramp_order, jar_order)
insects_order <- rbind.fill (pitfallrampjar_order, sticky_order)
#############
#NMDS of insect community by order between trap types
library (vegan)
#Create matrix of environmental variables
env.matrix_order<-insects_order[c(1:3,16)]
#create matrix of community variables
com.matrix_order<-insects_order[c(4:15)]
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
stressplot(NMDS_order)
#stress=0.14
#order NMDS visualization
#what taxa to display using "taxa"
flying<-as.vector(t(taxa_order[1,]))
flying<-flying[-1]
crawling<-as.vector(t(taxa_order[2,]))
crawling<-crawling[-1]
include<-as.vector(t(taxa_order[3,]))
include<-include[-1]
#plot order NMDS
#10x12
plot(NMDS_order, disp='sites', type="n")
title(main="Order", adj = 0.01, line = -2, cex.main=2.5)
#add ellipsoids with ordiellipse
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#E69F00",kind="sd", conf=0.95, label=FALSE, show.groups = "pitfall")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#009E73",kind="sd", conf=0.95, label=FALSE, show.groups = "jar")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#F0E442",kind="sd", conf=0.95, label=FALSE, show.groups = "ramp")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#CC79A7",kind="sd", conf=0.95, label=FALSE, show.groups = "sticky")
#display ground trap data as solid shapes - pitfall=circle, ramp trap=square, jar=triangle, flying trap as triangle outline
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="jar"), pch=17, col="#009E73")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="sticky"), pch=25, col="#CC79A7")
#add legend
legend(1.13,1.43, title=NULL, pch=c(19,17,15,25), col=c("#E69F00","#009E73","#F0E442","#CC79A7"), cex=.7, legend=c("Pitfall", "Jar ramp", "Yellow ramp", "Yellow sticky card"))
#add insect taxa as text
ordilabel(NMDS_order, display="species", select =which (include==TRUE & crawling == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS_order, display="species", select =which (include==TRUE & flying == TRUE), cex=0.6, col="white", fill="black")
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis(com.matrix_order ~ Trap, data = env.matrix_order, permutations = 999, method="bray")
fit
#P-value = 0.001
#check assumption of homogeneity of multivariate dispersion
#P-value greater than 0.05 means assumption has been met
distances_data<-vegdist(com.matrix_order)
anova(betadisper(distances_data, env.matrix_order$Trap))
#P-value = 0.005918 -- cannot assume homogeneity of multivariate dispersion
################
#calculate order Abundance
insects.abun_order <- rowSums(insects_order[,4:15])
insects_order$abundance <- insects.abun_order
#calculate order Richness
insects.rowsums_order <- rowSums(insects_order[,4:15]>0)
insects_order$richness <- insects.rowsums_order
#calculate order Shannon diversity
diversity_order <-diversity(insects_order[,4:15])
insects_order$diversity <-diversity_order
#calculate order Evenness
evenness_order <-diversity_order/log(specnumber(insects_order[,4:15]))
insects_order$evenness <- evenness_order
#######
#Mixed effects models
library(lme4)
library(lmerTest) #to obtain p values
library (emmeans) #for pairwise comparisons
library (multcompView) #to view letters
#order richness
##AIC 567
richness.model_order<-lmer(richness ~ Trap + Date + (1 | Site), data=insects_order)
summary(richness.model_order)
anova(richness.model_order)
AIC(richness.model_order)
#pairwise comparison
rich.emm_order<-emmeans(richness.model_order,pairwise~Trap)
rich.emm_order
#results: sig difference btw all
rich.cld_order<-multcomp::cld(rich.emm_order, alpha = 0.05, Letters = LETTERS)
rich.cld_order
#pairwise comparison
rich.emm_order<-emmeans(richness.model_order,pairwise~Trap)
rich.emm_order
#results: sig difference btw all
rich.cld_order<-multcomp::cld(rich.emm_order, alpha = 0.05, Letters = LETTERS)
rich.cld_order
size <- read.csv("https://raw.githubusercontent.com/katiemmanning/trapping_calibration/main/Data/Supp%20fig%201%20data.csv",na.strings = NULL)
library(ggplot2)
trapsize <- ggplot(size, aes(x=Surface.area, y=Mean.catch, color=Trap)) +
theme_classic() +
geom_point(size=4.5, shape=16)+
labs(x = bquote("Trap surface area"~(cm^2)), y = "Arthropods captured")+
geom_errorbar(aes(ymin=Mean.catch-SD, ymax=Mean.catch+SD),size=1, width=3)+
scale_color_manual(values=c("#009E73","#E69F00","#CC79A7","#F0E442"))
trapsize
pdf("Supp figure 1.pdf", height=6, width=8) #height and width in inches
trapsize
dev.off()
